<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Cast long-table trait data into wide-table format — cast.traitdata • traitdataform</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Cast long-table trait data into wide-table format — cast.traitdata" />

<meta property="og:description" content="Function to reformat trait data from the long-table into a matrix/wide-table
or occurrence table format." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">traitdataform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/traitdataform.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/EcologicalTraitData/traitdataform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Cast long-table trait data into wide-table format</h1>
    <small class="dont-index">Source: <a href='https://github.com/EcologicalTraitData/traitdataform/blob/master/R/cast.traitdata.R'><code>R/cast.traitdata.R</code></a></small>
    <div class="hidden name"><code>cast.traitdata.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Function to reformat trait data from the long-table into a matrix/wide-table
or occurrence table format.</p>
    
    </div>

    <pre class="usage"><span class='fu'>cast.traitdata</span>(<span class='no'>.data</span>, <span class='kw'>values</span> <span class='kw'>=</span> <span class='st'>"traitValue"</span>, <span class='kw'>traits</span> <span class='kw'>=</span> <span class='st'>"traitName"</span>,
  <span class='kw'>units</span> <span class='kw'>=</span> <span class='st'>"traitUnit"</span>, <span class='kw'>fun.aggregate</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.data</th>
      <td><p>dataset of class 'traitdata' to be cast into wide-table format.</p></td>
    </tr>
    <tr>
      <th>values</th>
      <td><p>the column name containing the trait values to be used to fill
the matrix (default is <code>traitValue</code>). Duplicate columns (e.g.
<code>traitValueStd</code>) will be omitted. See notes.</p></td>
    </tr>
    <tr>
      <th>traits</th>
      <td><p>the column name to be kept for parsing into wide-table (default
is <code>traitName</code>). Note that any duplicate column that contains trait names,
e.g. <code>traitNameStd</code> will be omitted.</p></td>
    </tr>
    <tr>
      <th>units</th>
      <td><p>the column name containing the units of numerical values
(default is <code>traitUnit</code>).</p></td>
    </tr>
    <tr>
      <th>fun.aggregate</th>
      <td><p>option for <code><a href='https://www.rdocumentation.org/packages/reshape2/topics/cast'>reshape2::cast()</a></code> to define method of
aggregation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a wide-table data.frame object containing all taxa (and other
differentiating parameters) in rows and all traits (extracted from column
'traitName') in columns.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The wide-table will be composed while preserving the detail given in
the dataset (occurrence level or taxa level). The cells  will be filled
with the values from 'traitValue'.</p>
<p>If taxa should be summarized, provide function for summarizing in parameter
'summarize'. This can be any function that takes a vector and returns a
single value for <strong>both numerical and factorial/character input vectors!</strong>.
The default for numerical values is to return an arithmetric mean while
including any outliers. For factorial values, the value is accepted if it
is equal in all of the input entries. Otherwise NA is returned. For
heterogeneous factorial or character input, user action is required for
homogenizing the data before calling <code>cast.traitdata()</code>.</p>
    
    <h2 class="hasAnchor" id="duplicate-columns"><a class="anchor" href="#duplicate-columns"></a>Duplicate columns</h2>

    <p>The function is currently not able to handle
multiple columns of trait data (incl. names and units). Those are currently
omitted from the output and may be added manually. You can alter the
columns to be used to construct the matrix by specifying those in
parameters <code>traits</code>, <code>values</code>, and <code>units</code>. Automatic handling of the <code>Std</code>
columns might be added at a later stage.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='pulldata.html'>pulldata</a></span>(<span class='st'>"arthropodtraits"</span>)</div><div class='output co'>#&gt; <span class='message'>The dataset 'arthropodtraits' is now available for use! </span></div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>arthropodtraits</span>)</div><div class='output co'>#&gt;     Order     Suborder       Family            SpeciesID             Author
#&gt; 1 Araneae Labidognatha Anyphaenidae Anyphaena accentuata (Walckenaer, 1802)
#&gt; 2 Araneae Labidognatha    Araneidae Aculepeira ceropegia   Walckenaer, 1802
#&gt; 3 Araneae Labidognatha    Araneidae     Agalenatea redii    (Scopoli, 1763)
#&gt; 4 Araneae Labidognatha    Araneidae   Araneus diadematus       Clerck, 1757
#&gt; 5 Araneae Labidognatha    Araneidae    Araneus marmoreus       Clerck, 1757
#&gt; 6 Araneae Labidognatha    Araneidae    Araneus quadratus       Clerck, 1757
#&gt;   Body_Size Dispersal_ability Feeding_guild Feeding_guild_short Feeding_mode
#&gt; 1      6.25              1.00             c                   c            e
#&gt; 2     11.00              1.00             c                   c            e
#&gt; 3      6.93              0.50             c                   c            e
#&gt; 4     11.88              1.00             c                   c            e
#&gt; 5     10.03              0.75             c                   c            e
#&gt; 6     12.25              1.00             c                   c            e
#&gt;   Feeding_specialization Feeding_tissue Feeding_plant_part
#&gt; 1                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt; 2                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt; 3                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt; 4                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt; 5                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt; 6                   &lt;NA&gt;           &lt;NA&gt;               &lt;NA&gt;
#&gt;   Endophagous_lifestyle Stratum_use Stratum_use_short Remark
#&gt; 1                  &lt;NA&gt;           t                 t       
#&gt; 2                  &lt;NA&gt;           h                 h       
#&gt; 3                  &lt;NA&gt;           h                 h       
#&gt; 4                  &lt;NA&gt;       (h)-t                 u       
#&gt; 5                  &lt;NA&gt;       (h)-t                 u       
#&gt; 6                  &lt;NA&gt;       (h)-t                 u       </div><div class='input'><span class='no'>dataset3</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='as.traitdata.html'>as.traitdata</a></span>(<span class='no'>arthropodtraits</span>,
                         <span class='kw'>taxa</span> <span class='kw'>=</span> <span class='st'>"SpeciesID"</span>,
                         <span class='kw'>traits</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Body_Size"</span>, <span class='st'>"Dispersal_ability"</span>,
                               <span class='st'>"Feeding_guild"</span>,<span class='st'>"Feeding_guild_short"</span>,
                               <span class='st'>"Feeding_mode"</span>, <span class='st'>"Feeding_specialization"</span>,
                               <span class='st'>"Feeding_tissue"</span>, <span class='st'>"Feeding_plant_part"</span>,
                               <span class='st'>"Endophagous_lifestyle"</span>, <span class='st'>"Stratum_use"</span>,
                               <span class='st'>"Stratum_use_short"</span>),
                         <span class='kw'>units</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='kw'>Body_Size</span> <span class='kw'>=</span> <span class='st'>"mm"</span>),
                         <span class='kw'>keep</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='kw'>measurementRemark</span> <span class='kw'>=</span> <span class='st'>"Remark"</span>),
                         <span class='kw'>metadata</span> <span class='kw'>=</span> <span class='fu'><a href='as.metadata.html'>as.metadata</a></span>(
                            <span class='kw'>license</span> <span class='kw'>=</span> <span class='st'>"http://creativecommons.org/publicdomain/zero/1.0/"</span>
                            )
)</div><div class='output co'>#&gt; <span class='message'>Input is taken to be a species -- trait matrix. If this is not the case, please provide parameters!</span></div><div class='input'>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>dataset3</span>)</div><div class='output co'>#&gt;         scientificName traitName traitValue traitUnit measurementID
#&gt; 1 Anyphaena accentuata Body_Size       6.25        mm             1
#&gt; 2 Aculepeira ceropegia Body_Size         11        mm             2
#&gt; 3     Agalenatea redii Body_Size       6.93        mm             3
#&gt; 4   Araneus diadematus Body_Size      11.88        mm             4
#&gt; 5    Araneus marmoreus Body_Size      10.03        mm             5
#&gt; 6    Araneus quadratus Body_Size      12.25        mm             6
#&gt;   measurementRemark
#&gt; 1                  
#&gt; 2                  
#&gt; 3                  
#&gt; 4                  
#&gt; 5                  
#&gt; 6                  
#&gt; 
#&gt; This trait-dataset contains 11 traits for 1230 taxa ( 10238 measurements in total).
#&gt; 
#&gt; [ ] : 
#&gt;     When using these data, you must acknowledge the following usage policies: 
#&gt; 
#&gt;     Published under: http://creativecommons.org/publicdomain/zero/1.0/ 
#&gt; </div><div class='input'>
<span class='no'>dd3</span> <span class='kw'>&lt;-</span><span class='fu'>cast.traitdata</span>(<span class='no'>dataset3</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>dd3</span>)</div><div class='output co'>#&gt;              scientificName measurementRemark Body_Size Dispersal_ability
#&gt; 1          Acalypta nigrina                    2.6 [mm]              0.25
#&gt; 2          Acalypta parvula                    2.0 [mm]              0.25
#&gt; 3      Acalypta platycheila                    2.6 [mm]              0.25
#&gt; 4         Acalyptus carpini                 *  2.2 [mm]                 1
#&gt; 5 Acanthodelphax denticauda                    3.0 [mm]               0.5
#&gt; 6   Acanthodelphax spinosus                    2.0 [mm]                 0
#&gt;   Feeding_guild Feeding_guild_short Feeding_mode Feeding_specialization
#&gt; 1             h                   h            s                      o
#&gt; 2             h                   h            s                      o
#&gt; 3             h                   h            s                      o
#&gt; 4             h                   h            c                      m
#&gt; 5             h                   h            s                      m
#&gt; 6             h                   h            s                      m
#&gt;   Feeding_tissue Feeding_plant_part Endophagous_lifestyle Stratum_use
#&gt; 1              m               &lt;NA&gt;                  &lt;NA&gt;           g
#&gt; 2              m               &lt;NA&gt;                  &lt;NA&gt;           g
#&gt; 3              m               &lt;NA&gt;                  &lt;NA&gt;           g
#&gt; 4           &lt;NA&gt;                l-r                  &lt;NA&gt;           t
#&gt; 5              p               &lt;NA&gt;                  &lt;NA&gt;           h
#&gt; 6              p               &lt;NA&gt;                  &lt;NA&gt;           h
#&gt;   Stratum_use_short
#&gt; 1                 g
#&gt; 2                 g
#&gt; 3                 g
#&gt; 4                 t
#&gt; 5                 h
#&gt; 6                 h</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#duplicate-columns">Duplicate columns</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Florian D. Schneider.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

