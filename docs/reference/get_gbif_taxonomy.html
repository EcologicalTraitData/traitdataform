<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Get accepted canonical names and taxonomy for a given species name — get_gbif_taxonomy â€¢ traitdataform</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">traitdataform</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/traitdataform.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fdschneider/traitdataform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get accepted canonical names and taxonomy for a given species name</h1>
    </div>

    
    <p>The function maps user provided names to accepted species names.</p>
    

    <pre class="usage"><span class='fu'>get_gbif_taxonomy</span>(<span class='no'>x</span>, <span class='kw'>subspecies</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>verbose</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>fuzzy</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>resolve_synonyms</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a character string or vector of species names.</p></td>
    </tr>
    <tr>
      <th>subspecies</th>
      <td><p>logical. If TRUE (default), the given name is resolved to
subspecies epithet, otherwise it will be mapped to species level.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>logical. If FALSE (default), warnings and messages are
suppressed.</p></td>
    </tr>
    <tr>
      <th>fuzzy</th>
      <td><p>logical. If FALSE (default), names are only resolved to exactly
matching taxa on GBIF taxonomy service. Setting to TRUE may produce matches
when failing otherwise.</p></td>
    </tr>
    <tr>
      <th>resolve_synonyms</th>
      <td><p>logical. If TRUE (default), user provided synonyms
are mapped to the accepted names on GBIF taxonomy service.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data.frame mapping the user supplied names to the accepted taxon
names and higher taxonomic information (kingdom, phylum, class, order,
family, genus).</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function relies on package 'taxize' by Scott Chamberlain. It
uses the spell-checking and fuzzy matching algorithms provided by Global
Names Resolver (<code><a href='http://www.rdocumentation.org/packages/taxize/topics/gnr_resolve'>taxize::gnr_resolve()</a></code>) and forwards synonyms to the
accepted names as provided by GBIF Backbone Taxonomy
(<code>taxize::get_gbif_id_()</code>).</p>
<p>If 'synonym' is returned as TRUE, the user provided name has been
identified as a synonym and was mapped to an accepted name.</p>
<p>The field confidence reports the confidence of the matching procedure
performed by the function <code>get_gbifid_()</code> of the package 'taxize'. The
taxonID is a globally valid URI that links to the taxon description of the
GBIF backbone taxonomy.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'>get_gbif_taxonomy</span>(<span class='fu'>c</span>(<span class='st'>"Chorthippus albomarginatus"</span>, <span class='st'>"Chorthippus apricarius"</span>,
  <span class='st'>"Chorthippus biguttulus"</span>, <span class='st'>"Chorthippus dorsatus"</span>, <span class='st'>"Chorthippus montanus"</span>,
  <span class='st'>"Chorthippus parallelus"</span>, <span class='st'>"Chrysochraon dispar"</span>, <span class='st'>"Conocephalus dorsalis"</span>,
  <span class='st'>"Conocephalus fuscus"</span>, <span class='st'>"Decticus verrucivorus"</span>, <span class='st'>"Euthystira brachyptera"</span>,
  <span class='st'>"Gomphocerippus rufus"</span>, <span class='st'>"Gryllus campestris"</span>, <span class='st'>"Metrioptera roeselii"</span>,
  <span class='st'>"Omocestus viridulus"</span>, <span class='st'>"Phaneroptera falcata"</span>, <span class='st'>"Platycleis albopunctata"</span>,
  <span class='st'>"Spec"</span>, <span class='st'>"Stenobothrus lineatus"</span>, <span class='st'>"Stenobothrus stigmaticus"</span>,
  <span class='st'>"Stethophyma grossum"</span>, <span class='st'>"Tetrix kraussi"</span>, <span class='st'>"Tetrix subulata"</span>,
  <span class='st'>"Tetrix tenuicornis"</span>, <span class='st'>"Tetrix undulata"</span>, <span class='st'>"Tettigonia cantans"</span>,
  <span class='st'>"Tettigonia viridissima"</span>)
  )</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Retrieving data for taxon 'Pseudochorthippus montanus'</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Retrieving data for taxon 'Pseudochorthippus parallelus'</span></div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Retrieving data for taxon 'Roeseliana roeselii'</span></div><div class='output co'>#&gt;                scientificName synonym            scientificNameStd
#&gt; 1  Chorthippus albomarginatus   FALSE   Chorthippus albomarginatus
#&gt; 2      Chorthippus apricarius   FALSE       Chorthippus apricarius
#&gt; 3      Chorthippus biguttulus   FALSE       Chorthippus biguttulus
#&gt; 4        Chorthippus dorsatus   FALSE         Chorthippus dorsatus
#&gt; 5        Chorthippus montanus    TRUE   Pseudochorthippus montanus
#&gt; 6      Chorthippus parallelus    TRUE Pseudochorthippus parallelus
#&gt; 7         Chrysochraon dispar   FALSE          Chrysochraon dispar
#&gt; 8       Conocephalus dorsalis   FALSE        Conocephalus dorsalis
#&gt; 9         Conocephalus fuscus   FALSE          Conocephalus fuscus
#&gt; 10      Decticus verrucivorus   FALSE        Decticus verrucivorus
#&gt; 11     Euthystira brachyptera   FALSE       Euthystira brachyptera
#&gt; 12       Gomphocerippus rufus   FALSE         Gomphocerippus rufus
#&gt; 13         Gryllus campestris   FALSE           Gryllus campestris
#&gt; 14       Metrioptera roeselii    TRUE          Roeseliana roeselii
#&gt; 15        Omocestus viridulus   FALSE          Omocestus viridulus
#&gt; 16       Phaneroptera falcata   FALSE         Phaneroptera falcata
#&gt; 17    Platycleis albopunctata   FALSE      Platycleis albopunctata
#&gt; 18                       Spec      NA                         &lt;NA&gt;
#&gt; 19      Stenobothrus lineatus   FALSE        Stenobothrus lineatus
#&gt; 20   Stenobothrus stigmaticus   FALSE     Stenobothrus stigmaticus
#&gt; 21        Stethophyma grossum   FALSE          Stethophyma grossum
#&gt; 22             Tetrix kraussi   FALSE               Tetrix kraussi
#&gt; 23            Tetrix subulata   FALSE              Tetrix subulata
#&gt; 24         Tetrix tenuicornis   FALSE           Tetrix tenuicornis
#&gt; 25            Tetrix undulata   FALSE              Tetrix undulata
#&gt; 26         Tettigonia cantans   FALSE           Tettigonia cantans
#&gt; 27     Tettigonia viridissima   FALSE       Tettigonia viridissima
#&gt;                 author taxonRank confidence  kingdom     phylum   class
#&gt; 1      (De Geer, 1773)   species         98 Animalia Arthropoda Insecta
#&gt; 2     (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 3     (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 4  (Zetterstedt, 1821)   species         98 Animalia Arthropoda Insecta
#&gt; 5  (Charpentier, 1825)   species         98 Animalia Arthropoda Insecta
#&gt; 6  (Zetterstedt, 1821)   species         98 Animalia Arthropoda Insecta
#&gt; 7       (Germar, 1834)   species         98 Animalia Arthropoda Insecta
#&gt; 8    (Latreille, 1804)   species         97 Animalia Arthropoda Insecta
#&gt; 9    (Fabricius, 1793)   species         98 Animalia Arthropoda Insecta
#&gt; 10    (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 11      (Ocskay, 1826)   species         98 Animalia Arthropoda Insecta
#&gt; 12    (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 13      Linnaeus, 1758   species         98 Animalia Arthropoda Insecta
#&gt; 14   (Hagenbach, 1822)   species         98 Animalia Arthropoda Insecta
#&gt; 15    (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 16        (Poda, 1761)   species         98 Animalia Arthropoda Insecta
#&gt; 17       (Goeze, 1778)   species         98 Animalia Arthropoda Insecta
#&gt; 18                &lt;NA&gt;      &lt;NA&gt;         NA     &lt;NA&gt;       &lt;NA&gt;    &lt;NA&gt;
#&gt; 19      (Panzer, 1796)   species         98 Animalia Arthropoda Insecta
#&gt; 20      (Rambur, 1838)   species         98 Animalia Arthropoda Insecta
#&gt; 21    (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 22        Saulcy, 1888   species         98 Animalia Arthropoda Insecta
#&gt; 23    (Linnaeus, 1758)   species         98 Animalia Arthropoda Insecta
#&gt; 24    (Sahlberg, 1891)   species         98 Animalia Arthropoda Insecta
#&gt; 25     (Sowerby, 1806)   species         98 Animalia Arthropoda Insecta
#&gt; 26     (Fuessly, 1775)   species         97 Animalia Arthropoda Insecta
#&gt; 27    (Linnaeus, 1758)   species         97 Animalia Arthropoda Insecta
#&gt;         order        family             genus               taxonomy
#&gt; 1  Orthoptera     Acrididae       Chorthippus GBIF Backbone Taxonomy
#&gt; 2  Orthoptera     Acrididae       Chorthippus GBIF Backbone Taxonomy
#&gt; 3  Orthoptera     Acrididae       Chorthippus GBIF Backbone Taxonomy
#&gt; 4  Orthoptera     Acrididae       Chorthippus GBIF Backbone Taxonomy
#&gt; 5  Orthoptera     Acrididae Pseudochorthippus GBIF Backbone Taxonomy
#&gt; 6  Orthoptera     Acrididae Pseudochorthippus GBIF Backbone Taxonomy
#&gt; 7  Orthoptera     Acrididae      Chrysochraon GBIF Backbone Taxonomy
#&gt; 8  Orthoptera Tettigoniidae      Conocephalus GBIF Backbone Taxonomy
#&gt; 9  Orthoptera Tettigoniidae      Conocephalus GBIF Backbone Taxonomy
#&gt; 10 Orthoptera Tettigoniidae          Decticus GBIF Backbone Taxonomy
#&gt; 11 Orthoptera     Acrididae        Euthystira GBIF Backbone Taxonomy
#&gt; 12 Orthoptera     Acrididae    Gomphocerippus GBIF Backbone Taxonomy
#&gt; 13 Orthoptera     Gryllidae           Gryllus GBIF Backbone Taxonomy
#&gt; 14 Orthoptera Tettigoniidae        Roeseliana GBIF Backbone Taxonomy
#&gt; 15 Orthoptera     Acrididae         Omocestus GBIF Backbone Taxonomy
#&gt; 16 Orthoptera Tettigoniidae      Phaneroptera GBIF Backbone Taxonomy
#&gt; 17 Orthoptera Tettigoniidae        Platycleis GBIF Backbone Taxonomy
#&gt; 18       &lt;NA&gt;          &lt;NA&gt;              &lt;NA&gt;                   &lt;NA&gt;
#&gt; 19 Orthoptera     Acrididae      Stenobothrus GBIF Backbone Taxonomy
#&gt; 20 Orthoptera     Acrididae      Stenobothrus GBIF Backbone Taxonomy
#&gt; 21 Orthoptera     Acrididae       Stethophyma GBIF Backbone Taxonomy
#&gt; 22 Orthoptera    Tetrigidae            Tetrix GBIF Backbone Taxonomy
#&gt; 23 Orthoptera    Tetrigidae            Tetrix GBIF Backbone Taxonomy
#&gt; 24 Orthoptera    Tetrigidae            Tetrix GBIF Backbone Taxonomy
#&gt; 25 Orthoptera    Tetrigidae            Tetrix GBIF Backbone Taxonomy
#&gt; 26 Orthoptera Tettigoniidae        Tettigonia GBIF Backbone Taxonomy
#&gt; 27 Orthoptera Tettigoniidae        Tettigonia GBIF Backbone Taxonomy
#&gt;                                taxonID
#&gt; 1  http://www.gbif.org/species/1708567
#&gt; 2  http://www.gbif.org/species/1708601
#&gt; 3  http://www.gbif.org/species/1708251
#&gt; 4  http://www.gbif.org/species/1708512
#&gt; 5  http://www.gbif.org/species/8423289
#&gt; 6  http://www.gbif.org/species/7792296
#&gt; 7  http://www.gbif.org/species/1700841
#&gt; 8  http://www.gbif.org/species/1683331
#&gt; 9  http://www.gbif.org/species/1683067
#&gt; 10 http://www.gbif.org/species/1690685
#&gt; 11 http://www.gbif.org/species/1701343
#&gt; 12 http://www.gbif.org/species/1700023
#&gt; 13 http://www.gbif.org/species/1716462
#&gt; 14 http://www.gbif.org/species/4402879
#&gt; 15 http://www.gbif.org/species/1710755
#&gt; 16 http://www.gbif.org/species/1686243
#&gt; 17 http://www.gbif.org/species/1685298
#&gt; 18                                &lt;NA&gt;
#&gt; 19 http://www.gbif.org/species/1710962
#&gt; 20 http://www.gbif.org/species/1710986
#&gt; 21 http://www.gbif.org/species/1711091
#&gt; 22 http://www.gbif.org/species/9055856
#&gt; 23 http://www.gbif.org/species/1681124
#&gt; 24 http://www.gbif.org/species/1681181
#&gt; 25 http://www.gbif.org/species/1681247
#&gt; 26 http://www.gbif.org/species/8347376
#&gt; 27 http://www.gbif.org/species/1692898
#&gt;                                                                   warnings
#&gt; 1                                                                         
#&gt; 2                                                                         
#&gt; 3                                                                         
#&gt; 4                                                                         
#&gt; 5   A synonym was provided! Automatically mapped to accepted species name!
#&gt; 6   A synonym was provided! Automatically mapped to accepted species name!
#&gt; 7                                                                         
#&gt; 8                                                                         
#&gt; 9                                                                         
#&gt; 10                                                                        
#&gt; 11                                                                        
#&gt; 12                                                                        
#&gt; 13                                                                        
#&gt; 14  A synonym was provided! Automatically mapped to accepted species name!
#&gt; 15                                                                        
#&gt; 16                                                                        
#&gt; 17                                                                        
#&gt; 18                                         No matching species name found!
#&gt; 19                                                                        
#&gt; 20                                                                        
#&gt; 21                                                                        
#&gt; 22                                                                        
#&gt; 23                                                                        
#&gt; 24                                                                        
#&gt; 25                                                                        
#&gt; 26                                                                        
#&gt; 27                                                                        </div><div class='input'>
<span class='fu'>get_gbif_taxonomy</span>(<span class='st'>"Acrocephalus familiaris kingi"</span>, <span class='kw'>subspecies</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>Retrieving data for taxon 'oofnj NA'</span></div><div class='output co'>#&gt; <span class='error'>Error in data.frame(scientificName = x[i], synonym = synonym_i, scientificNameStd = temp[[i]]$canonicalname,     author = sub(paste0(temp[[i]]$canonicalname, " "), "", temp[[i]]$scientificname),     taxonRank = temp[[i]]$rank, confidence = temp[[i]]$confidence,     kingdom = if (is.null(temp[[i]]$kingdom)) NA else temp[[i]]$kingdom,     phylum = if (is.null(temp[[i]]$phylum)) NA else temp[[i]]$phylum,     class = if (is.null(temp[[i]]$class)) NA else temp[[i]]$class,     order = if (is.null(temp[[i]]$order)) NA else temp[[i]]$order,     family = if (is.null(temp[[i]]$family)) NA else temp[[i]]$family,     genus = if (is.null(temp[[i]]$genus)) NA else temp[[i]]$genus,     taxonomy = "GBIF Backbone Taxonomy", taxonID = paste0("http://www.gbif.org/species/",         temp[[i]]$usagekey, ""), warnings = warning_i): arguments imply differing number of rows: 1, 0</span></div><div class='input'><span class='fu'>get_gbif_taxonomy</span>(<span class='st'>"Vicia"</span>)</div><div class='output co'>#&gt;   scientificName synonym scientificNameStd author taxonRank confidence kingdom
#&gt; 1          Vicia   FALSE             Vicia     L.     genus         94 Plantae
#&gt;         phylum         class   order   family genus               taxonomy
#&gt; 1 Tracheophyta Magnoliopsida Fabales Fabaceae Vicia GBIF Backbone Taxonomy
#&gt;                               taxonID warnings
#&gt; 1 http://www.gbif.org/species/2974751         </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Florian D. Schneider.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
